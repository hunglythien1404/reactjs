{"version":3,"sources":["const/constant.js","Component/VideoPlay.js","Component/VideoItem.js","Component/VideoList.js","Component/LoginForm.js","utils/APICaller.js","App.js","index.js"],"names":["API_KEY","VideoPlay","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handlePlay","setState","isComment","handlePause","handleChange","e","name","target","value","defineProperty","handleClick","arr","state","comments","slice","unshift","comment","forEach","push","snippet","topLevelComment","textDisplay","react_default","a","createElement","className","video","YouTube","videoId","id","onPlay","onPause","title","placeholder","onChange","onClick","map","index","key","React","Component","VideoItem","setOpts","width","height","_this2","opts","VideoList","videos","Component_VideoItem","LoginForm","success","res","console","log","email","profileObj","isLogin","handleLogout","google_login","buttonText","onLogoutSuccess","google_login_default","onSuccess","onFailure","fail","clientId","callAPI","videoID","axios","method","url","type","catch","err","App","videoPlay","videoRest","then","data","items","checkLogin","searchVideo","term","Component_LoginForm","Component_VideoPlay","Component_VideoList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.0ff2ea88.chunk.js","sourcesContent":["export const API_KEY = \"AIzaSyAkDSX7vKeslTekUP0-tWeZxfiBK9pqEJ8\";","import React from 'react';\r\nimport Youtube from 'react-youtube';\r\n\r\nclass VideoPlay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isComment: false,\r\n      comment: \"\",\r\n      comments: [],\r\n    };\r\n  }\r\n\r\n  //get 10 comments from youtube\r\n  componentWillMount() {\r\n    let arr = [];\r\n    this.props.comment.forEach((comment) => arr.push(comment.snippet.topLevelComment.snippet.textDisplay));\r\n    this.setState({\r\n      comments: arr,\r\n    });\r\n  }\r\n\r\n  //show comment box when play video\r\n  handlePlay = () => {\r\n    this.setState({\r\n      isComment: true,\r\n    });\r\n  };\r\n\r\n  //hide comment box when pause video\r\n  handlePause = () => {\r\n    this.setState({\r\n      isComment: false,\r\n    });\r\n  };\r\n\r\n\r\n  //save value of comment box every time user type\r\n  handleChange = (e) => {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n\r\n  //save and push user comment\r\n  handleClick = () => {\r\n    let arr = this.state.comments.slice();\r\n    arr.unshift(this.state.comment);\r\n    this.setState({\r\n      comment: \"\",\r\n      comments: arr,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"videoPlay ml-5\">\r\n        {this.props.video ?\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n            <div className=\"card\">\r\n              <Youtube videoId={this.props.video.id.videoId} className=\"youtube\"\r\n                       onPlay={this.handlePlay} onPause={this.handlePause}/>\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{this.props.video.snippet.title}</h5>\r\n                <p className=\"alert-primary col-3\">Comments</p>\r\n                {/*{check and show comment box}*/}\r\n                {this.state.isComment ?\r\n                  <div>\r\n                    <textarea placeholder=\"Your comment here\" className=\"comment\" name=\"comment\"\r\n                              value={this.state.comment} onChange={this.handleChange}/>\r\n                    <button className=\"btn btn-success mt-1\" onClick={this.handleClick}>Comment</button>\r\n                  </div> : \"\"}\r\n                {/*{show 10 comments}*/}\r\n                {this.state.comments.map((comment, index) => {\r\n                  return <p key={index}\r\n                            className=\"commentbox\">\r\n                    {comment}</p>\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div> : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoPlay;","import React from 'react';\r\nimport Youtube from 'react-youtube';\r\n\r\nclass VideoItem extends React.Component {\r\n  setOpts = () => {\r\n    return {\r\n      width: 250,\r\n      height: 150,\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"col-xs-5 col-sm-5 col-md-5 col-lg-5\">\r\n        <div className=\"card\">\r\n          <Youtube videoId={this.props.video.id.videoId} opts={this.setOpts()}\r\n                   onPlay={() => this.props.handlePlay(this.props.video.id.videoId)}/>\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\"\r\n                onClick={() => this.props.handlePlay(this.props.video.id.videoId)}>\r\n              {this.props.video.snippet.title}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoItem;","import React from 'react';\r\nimport VideoItem from './VideoItem';\r\n\r\nclass VideoList extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"videoList\">\r\n        {this.props.videos.map((video, index) => <VideoItem key={index}\r\n                                                            video={video}\r\n                                                            handlePlay={(id) => this.props.handlePlay(id)}/>)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoList;","import React from 'react';\r\nimport Google from 'react-google-login';\r\nimport {GoogleLogout} from 'react-google-login';\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: null,\r\n      isLogin: false\r\n    };\r\n  }\r\n\r\n  //get email from data Google respone when sucess and change isLogin status\r\n  success = (res) => {\r\n    console.log(res);\r\n    this.setState({\r\n      email: res.profileObj.email,\r\n      isLogin: true\r\n    }, () => {\r\n      this.props.isLogin(this.state.isLogin);\r\n    });\r\n  };\r\n\r\n\r\n  //logout and change isLogin status\r\n  handleLogout = () => {\r\n    this.setState({\r\n      email: null,\r\n      isLogin: false\r\n    }, () => {\r\n      this.props.isLogin(this.state.isLogin);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 mb-3\">\r\n        <div className=\"ml-5\">\r\n          {this.state.email ?\r\n            <div>\r\n              <p className=\"text-primary col-3\">{this.state.email}</p>\r\n              <GoogleLogout buttonText=\"Log out\" onLogoutSuccess={this.handleLogout}/>\r\n            </div> :\r\n            <Google  onSuccess={this.success} onFailure={this.fail}\r\n                     clientId={\"585040575848-obhv1ueadrmmp5787n1phh8bhul7hd2v.apps.googleusercontent.com\"}/>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;","import axios from 'axios';\r\nimport * as type from '../const/constant';\r\n\r\n//get comment by call API\r\nexport default function callAPI(videoID) {\r\n  return axios(\r\n    {\r\n      method: \"GET\",\r\n      url: \"https://www.googleapis.com/youtube/v3/commentThreads?key=\" + type.API_KEY + \"&textFormat=plainText&part=snippet&videoId=\" +\r\n        videoID + \"&maxResults=10\"\r\n    }\r\n  ).catch(err => {\r\n    console.log(err);\r\n  });\r\n}","import React from 'react';\r\nimport searchVideo from 'youtube-api-search';\r\nimport * as type from './const/constant';\r\nimport VideoPlay from './Component/VideoPlay';\r\nimport VideoList from './Component/VideoList';\r\nimport LoginForm from './Component/LoginForm';\r\nimport './App.css';\r\nimport callAPI from './utils/APICaller';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      videos: [],\r\n      videoPlay: null,\r\n      videoRest: [],\r\n      comment: [],\r\n      isLogin: false\r\n    };\r\n  }\r\n\r\n\r\n  //find 5 video with keyword \"ReactJS\" on Youtube and set state\r\n  componentWillMount() {\r\n    searchVideo(\r\n      {\r\n        key: type.API_KEY,\r\n        term: \"ReactJS\",\r\n      }, (videos) => {\r\n        this.setState({\r\n          videos: videos,\r\n          videoPlay: videos[0],\r\n          videoRest: videos.slice(1),\r\n        }, () => {\r\n          //get 10 comments from first video\r\n          callAPI(this.state.videoPlay.id.videoId).then(res => {\r\n            this.setState({\r\n              comment: res.data.items,\r\n            });\r\n          })\r\n        });\r\n      }\r\n    );\r\n\r\n\r\n  }\r\n\r\n  //reaplace the main video when click videos on the list\r\n  handlePlay = (id) => {\r\n    let arr = [];\r\n    this.state.videos.forEach((video) => {\r\n      if (video.id.videoId === id) {\r\n        this.setState({\r\n          videoPlay: video,\r\n        });\r\n      } else {\r\n        arr.push(video);\r\n      }\r\n    });\r\n    this.setState({\r\n      videoRest: arr,\r\n      isComment: false,\r\n    }, () => {\r\n      //get 10 comments from the chosen videos\r\n      callAPI(this.state.videoPlay.id.videoId).then(res => {\r\n        this.setState({\r\n          comment: res.data.items\r\n        });\r\n      })\r\n    });\r\n  };\r\n\r\n\r\n  checkLogin = (isLogin) => {\r\n    this.setState({\r\n      isLogin: isLogin\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <LoginForm isLogin={this.checkLogin}/>\r\n        {this.state.isLogin ?\r\n          <div className=\"content\">\r\n            <VideoPlay video={this.state.videoPlay} comment={this.state.comment}/>\r\n            <VideoList videos={this.state.videoRest} handlePlay={this.handlePlay}/>\r\n          </div> : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}